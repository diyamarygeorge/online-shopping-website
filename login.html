<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Login — Demo Shop</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body { background:#f5f7fb; }
    .material-card { border-radius:12px; box-shadow:0 8px 24px rgba(0,0,0,0.06); }
    .form-input { border-radius:8px; box-shadow: inset 0 2px 6px rgba(0,0,0,0.04); }
    .material-btn { border-radius: 28px; padding: 8px 18px; box-shadow:0 6px 12px rgba(0,0,0,0.05); }
    .snackbar { visibility:hidden; min-width:200px; background:#323232; color:#fff; text-align:center;
      border-radius:6px; padding:10px 14px; position:fixed; left:50%; transform:translateX(-50%);
      bottom:30px; z-index:9999; font-size:14px; }
    .snackbar.show { visibility:visible; animation: fadein .25s, fadeout .5s 2.4s; }
    @keyframes fadein{ from{opacity:0;bottom:10px} to{opacity:1;bottom:30px} }
    @keyframes fadeout{ from{opacity:1;bottom:30px} to{opacity:0;bottom:10px} }
  </style>
</head>
<body>

  <nav class="navbar navbar-light bg-white shadow-sm">
    <div class="container">
      <a class="navbar-brand fw-bold" href="#">Shop</a>
    </div>
  </nav>

  <main class="container py-5">
    <div class="row justify-content-center">
      <div class="col-md-5">
        <div class="card p-4 material-card">
          <h4 class="mb-3">Login</h4>

          <form id="loginForm" novalidate>
            <div class="mb-3">
              <label class="form-label">Email</label>
              <input id="loginEmail" type="email" class="form-control form-input" required />
            </div>

            <div class="mb-3">
              <label class="form-label">Password</label>
              <input id="loginPassword" type="password" class="form-control form-input" required />
            </div>

            <button type="submit" class="btn btn-primary material-btn w-100">Login</button>

            <p class="mt-3 small">Don’t have an account? <a href="register.html">Register</a></p>
          </form>
        </div>
      </div>
    </div>
  </main>

  <div id="snackbar" class="snackbar"></div>

  <script>
    function showSnackbar(msg){
      const s = document.getElementById('snackbar');
      s.textContent = msg;
      s.classList.add('show');
      setTimeout(()=> s.classList.remove('show'), 2600);
    }

    const LS_USERS = 'users';
    const LS_LOGGEDIN = 'loggedInUser';

    function getUsers(){
      return JSON.parse(localStorage.getItem(LS_USERS) || '[]');
    }

    document.getElementById('loginForm').addEventListener('submit', function(e){
      e.preventDefault();

      const email = document.getElementById('loginEmail').value.trim().toLowerCase();
      const pass = document.getElementById('loginPassword').value;

      if(!email || !pass) return showSnackbar("Please fill all fields");

      const users = getUsers();
      const found = users.find(u => u.email === email && u.password === pass);

      if(!found){
        return showSnackbar("Invalid credentials");
      }

      // store login state
      localStorage.setItem(LS_LOGGEDIN, email);

      showSnackbar("Login successful...");
      setTimeout(() => {
        window.location.href = "index.html";  // next page we will build
      }, 800);
    });
  </script>

</body>
</html>
